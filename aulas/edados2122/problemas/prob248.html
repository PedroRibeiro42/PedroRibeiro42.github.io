<html>
<head>
<title>[ED248] TAD Conjunto (BooleanArrayIntSet)</title>
<link rel="StyleSheet" href="style.css" type="text/css">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>

<small>Para efeitos da nota atribuida à resolução de exercícios ao longo do semestre - </small><b><span style="color:green">Submeter até 23:59 de 27 de Novembro</span></b><br>
  <small><i>(o problema continuará depois disponível para submissão, mas sem contar para a nota)</i><br>
  <b>[para perceber o contexto do problema deve <a target="_new" href="https://www.dcc.fc.up.pt/~pribeiro/aulas/edados2122/praticas/aula05.html">ler o guião da aula #05</a>]</b></small></p>

<hr>

<h2>[ED248] TAD Conjunto (BooleanArrayIntSet)</h2>

<p><font color="red">Neste problema deverá apenas submeter uma classe <b>BooleanArrayIntSet</b> (e não um programa completo).</font>

<h3><img src="prob248.jpg" align="right" border="0">O problema</h3>

<p>A sua tarefa é criar uma classe <b>BooleanArrayIntSet</b>, que representa um conjunto de números inteiros, implementando o seguinte interface:

<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #888888">// Interface que define o TAD conjunto de numeros inteiros</span>
<span style="color: #008800; font-weight: bold">interface</span> <span style="color: #BB0066; font-weight: bold">IntSet</span> <span style="color: #333333">{</span>
    <span style="color: #008800; font-weight: bold">public</span> <span style="color: #333399; font-weight: bold">boolean</span> <span style="color: #0066BB; font-weight: bold">contains</span><span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> x<span style="color: #333333">);</span>       <span style="color: #888888">// Retorna true se x esta no conjunto</span>
    <span style="color: #008800; font-weight: bold">public</span> <span style="color: #333399; font-weight: bold">boolean</span> <span style="color: #0066BB; font-weight: bold">add</span><span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> x<span style="color: #333333">);</span>            <span style="color: #888888">// Adiciona x ao conjunto (devolve true se conseguir)</span>
    <span style="color: #008800; font-weight: bold">public</span> <span style="color: #333399; font-weight: bold">boolean</span> <span style="color: #0066BB; font-weight: bold">remove</span><span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> x<span style="color: #333333">);</span>         <span style="color: #888888">// Remove x do conjunto (devolve true se conseguir)</span>
    <span style="color: #008800; font-weight: bold">public</span> <span style="color: #333399; font-weight: bold">int</span>     <span style="color: #0066BB; font-weight: bold">size</span><span style="color: #333333">();</span>                <span style="color: #888888">// Retorna o numero de elementos do conjunto</span>
    <span style="color: #008800; font-weight: bold">public</span> <span style="color: #333399; font-weight: bold">void</span>    <span style="color: #0066BB; font-weight: bold">clear</span><span style="color: #333333">();</span>               <span style="color: #888888">// Limpa o conjunto (torna-o vazio)</span>
    <span style="color: #008800; font-weight: bold">public</span> <span style="color: #333399; font-weight: bold">boolean</span> <span style="color: #0066BB; font-weight: bold">equals</span><span style="color: #333333">(</span>IntSet s<span style="color: #333333">);</span>      <span style="color: #888888">// Retorna true se ambos os conjuntos sao iguais</span>
    <span style="color: #008800; font-weight: bold">public</span> IntSet <span style="color: #0066BB; font-weight: bold">intersection</span><span style="color: #333333">(</span>IntSet s<span style="color: #333333">);</span> <span style="color: #888888">// devolve um novo conjunto: a intersecao de ambos</span>
<span style="color: #333333">}</span>
</pre></div>


<p>Note que esta implementação deverá ser eficiente e demorar tempo constante nos métodos <tt>contains</tt>, <tt>add</tt> e <tt>remove</tt> (ou seja, uma implementação como a do <a href="https://www.dcc.fc.up.pt/~pribeiro/aulas/edados2122/codigo/ArrayListIntSet.java">ArrayListIntSet</a> deverá ter execeder o tempo limite nos casos de teste grandes). A sugestão é usar um array de booleanos como explicado nas aulas e no guião.</p>

<p>Para testar pode fazer algo como o seguinte:

<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-weight: bold">public</span> <span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">TestED248</span> <span style="color: #333333">{</span>
    <span style="color: #008800; font-weight: bold">public</span> <span style="color: #008800; font-weight: bold">static</span> <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">main</span><span style="color: #333333">(</span>String<span style="color: #333333">[]</span> args<span style="color: #333333">)</span> <span style="color: #333333">{</span>
	<span style="color: #333399; font-weight: bold">int</span> n <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">1000000</span><span style="color: #333333">;</span>                      
	IntSet s <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">new</span> BooleanArrayIntSet<span style="color: #333333">(</span>n<span style="color: #333333">);</span> <span style="color: #888888">// Criar array de booleanos para numeros no intervalo [1,n]</span>
	<span style="color: #333399; font-weight: bold">boolean</span> tmp<span style="color: #333333">;</span>
		
	System<span style="color: #333333">.</span><span style="color: #0000CC">out</span><span style="color: #333333">.</span><span style="color: #0000CC">println</span><span style="color: #333333">(</span><span style="background-color: #fff0f0">&quot;Adicionando todos os numeros entre 1 e &quot;</span> <span style="color: #333333">+</span> n <span style="color: #333333">+</span> <span style="background-color: #fff0f0">&quot;...&quot;</span><span style="color: #333333">);</span>
	<span style="color: #008800; font-weight: bold">for</span> <span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> i<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">;</span> i<span style="color: #333333">&lt;=</span>n<span style="color: #333333">;</span> i<span style="color: #333333">++)</span>
	    tmp <span style="color: #333333">=</span> s<span style="color: #333333">.</span><span style="color: #0000CC">add</span><span style="color: #333333">(</span>i<span style="color: #333333">);</span>

	System<span style="color: #333333">.</span><span style="color: #0000CC">out</span><span style="color: #333333">.</span><span style="color: #0000CC">println</span><span style="color: #333333">(</span><span style="background-color: #fff0f0">&quot;Adicionando novamente todos os numeros entre 1 e &quot;</span> <span style="color: #333333">+</span> n <span style="color: #333333">+</span> <span style="background-color: #fff0f0">&quot;...&quot;</span><span style="color: #333333">);</span>
	<span style="color: #008800; font-weight: bold">for</span> <span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> i<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">;</span> i<span style="color: #333333">&lt;=</span>n<span style="color: #333333">;</span> i<span style="color: #333333">++)</span>
	    tmp <span style="color: #333333">=</span> s<span style="color: #333333">.</span><span style="color: #0000CC">add</span><span style="color: #333333">(</span>i<span style="color: #333333">);</span>

	System<span style="color: #333333">.</span><span style="color: #0000CC">out</span><span style="color: #333333">.</span><span style="color: #0000CC">println</span><span style="color: #333333">(</span><span style="background-color: #fff0f0">&quot;Verificando se todos os numeros entre 1 e &quot;</span> <span style="color: #333333">+</span> n <span style="color: #333333">+</span> <span style="background-color: #fff0f0">&quot; existem...&quot;</span><span style="color: #333333">);</span>
	<span style="color: #008800; font-weight: bold">for</span> <span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> i<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">;</span> i<span style="color: #333333">&lt;=</span>n<span style="color: #333333">;</span> i<span style="color: #333333">++)</span>
	    tmp <span style="color: #333333">=</span> s<span style="color: #333333">.</span><span style="color: #0000CC">contains</span><span style="color: #333333">(</span>i<span style="color: #333333">);</span>

	System<span style="color: #333333">.</span><span style="color: #0000CC">out</span><span style="color: #333333">.</span><span style="color: #0000CC">println</span><span style="color: #333333">(</span><span style="background-color: #fff0f0">&quot;Removendo todos os numeros entre 1 e &quot;</span> <span style="color: #333333">+</span> n <span style="color: #333333">+</span> <span style="background-color: #fff0f0">&quot;...&quot;</span><span style="color: #333333">);</span>
	<span style="color: #008800; font-weight: bold">for</span> <span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> i<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">;</span> i<span style="color: #333333">&lt;=</span>n<span style="color: #333333">;</span> i<span style="color: #333333">++)</span>
	    tmp <span style="color: #333333">=</span> s<span style="color: #333333">.</span><span style="color: #0000CC">remove</span><span style="color: #333333">(</span>i<span style="color: #333333">);</span>
    <span style="color: #333333">}</span>
<span style="color: #333333">}</span>
</pre></div>
  
<p>Quando executado este código deverá demorar muito menos que 1 segundo e dar o seguinte output:</p>

<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">Adicionando todos os numeros entre 1 e 1000000...
Adicionando novamente todos os numeros entre 1 e 1000000...
Verificando se todos os numeros entre 1 e 1000000 existem...
Removendo todos os numeros entre 1 e 1000000...
</pre></div>

<h3>Input e Output</h3>

<p>Deverá apenas submeter a classe <b>BooleanArrayIntSet</b>. O Mooshak irá criar várias instâncias da sua classe usando um construtor como mostrado no exemplo de utilização <b>(construtor com um argumento inteiro <i>n</i> indicando que deve suportar números no intervalo [1,n])</b> e irá fazer uma série de testes aos métodos por si implementados.</p>

<p>É garantido que o conjunto nunca terá mais do que 100 números diferentes, e que todos os números serão inteiros positivos entre 1 e 1000 (inclusive) para todos os testes excepto o último. No último teste, destinado a verificar a eficiênca, poderão ser usados números até 1 milhão e feitas milhões de adições, inserções ou verificações <b>(neste teste terá "Time Limit Exceeded" se a sua classe não for eficiente nestas operações)</b>.</p>

<p>É garantido que os métodos são chamados de forma correcta (os argumentos fazem sentido e não geram excepções).</p>

<hr>

<p align="center">
Estruturas de Dados (CC1007)<br>
DCC/FCUP - Faculdade de Ciências da Universidade do Porto
</p>

<hr>

</body>
</html>
