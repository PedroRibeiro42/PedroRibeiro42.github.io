<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>Aula Prática #04 - Algoritmos Greedy</title>
	<link rel="StyleSheet" href="praticas.css" type="text/css">
	<script type="text/javascript" src="latexit.js"></script>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
</head>

<body>
  <h3><a href="../index.html">DAA 2021/2022</a> (CC2001) - DCC/FCUP</h3>
  <h1>Aula Prática #04 - Algoritmos Greedy<br>
    <small><small>(semana de 28/03 a 01/04)</small></small>
  </h1>
<hr>

  <h2>Exercícios para submissão</h2>

  <p>Para efeitos da <a href="../avaliacao.html#classificacao">nota atribuída à resolução de exercícios ao longo do semestre</a>, os exercícios a submeter desta aula são:<br>
     
<ul>
  <li><a class="important"  href="../problemas/daa013.html">[DAA 013] Cobertura mínima</a> (peso 50%) <span style="color:DarkGreen">(exercício do guião principal)</span>
  <li><a class="important"  href="../problemas/daa014.html">[DAA 014] O problema do sapateiro</a> (peso 50%) <span style="color:DarkGreen">(exercício do guião principal)</span>
  <li><a class="important"  href="../problemas/daa015.html">[DAA 015] Rebentando os balões</a>  (peso 50%)<span style="color:DarkSlateBlue">(exercício extra)</span>
  <li><a class="important"  href="../problemas/daa016.html">[DAA 016] Invasão espacial</a>  (peso 50%) <span style="color:DarkRed">(exercício de desafio)</span>
</ul>

<p><b>Prazo de submissão:</b> 24 de Abril (submeter no <a href="https://mooshak.dcc.fc.up.pt/~daa/">Mooshak de DAA</a>)</p>

  <p><b>Não se esqueçam que qualquer ajuda que tenham recebido de outros colegas deve ser reconhecida nos comentário do programa que submetem.</b><br>Depois do prazo os problemas continuarão disponíveis no Mooshak, mas as submissões não contarão para a sua nota. Relembre que cada aula vale 10% da nota desta componente.<br>
Para um problema contar tem acertar todos os testes. Mesmo que resolva todos os problemas, o máximo numa aula é de 100%.</p>
  
  <hr>
  
 <h3>Conteúdos das teóricas</h3>

  <p>Nesta aula iremos abordar conceitos de <b>algoritmos greedy</b>. Será por isso conveniente ver o que foi falado nas teóricas:
    <ul>
      <li><a href="../apoio.html#slides">Slides</a> (capítulo "3 - Algoritmos Greedy")
      <li><a href="../videos/index.html">Vídeos</a>: (vídeos #10 e #11)

    </ul>
  </p>

  <hr>
  

    <h3>Contra-Exemplos</h3>

    <p><b>Exercício 1)</b> Considere o <b>problema do caixeiro viajante</b> (versão
euclideana): dados <i>N</i> pontos no plano, arranjar o ciclo mais curto que
      visita todos os pontos.
      
      <p><img src="aula04.png" width="300px">
     
    <p>Imagine que começa num ponto qualquer e depois segue uma escolha
      greedy.  Para cada uma das hipóteses a seguir mencionadas,
      arranje um caso onde a escolha greedy daria uma solução ótima e
      também um contra exemplo onde essa mesma escolha não daria
      uma solução ótima.

      <ol type="a">
	<li> Em cada passo escolher o ponto não visitado mais à
esquerda (menor coordenada X). No final ligar o último ponto escolhido
	  ao primeiro.

	<li>Em cada passo escolher sempre o ponto não visitado mais próximo do ponto actual. No final ligar o último ponto escolhido ao primeiro.
      </ol>


    <p><b>Exercício 2)</b> Considere o <b>problema do troco:</b> dada um conjunto de moedas <i>S</i> e uma quantia <i>K</i>, descobrir o menor número de moedas de <i>S</i> que somadas dão a quantia <i>K</i> (podendo repetir moedas).

    <p>Considere  o algoritmo greedy de em cada passo escolher a maior moeda que não faz passar da quantia <i>K</i>.
      
      <ol type="a">
	<li>Indique um conjunto de moedas <b>S</b> para o qual o algoritmo greedy não é ótimo para fazer a quantia <i>K=100</i>.
	<li>Indique uma quantia <b>K</b> para o qual o algoritmo greedy não é ótimo se o conjunto de moedas for <i>S={1,15,50}</i>
    </ol>

<hr>
      
<h3>Exercício 3) Alguns problemas greedy I </h3>

    <p><a href="https://mooshak.dcc.fc.up.pt/~daa/"><img src="mooshak.gif" border="0"></a><br>
    Implemente e submeta uma solução para o problema <a class="important" href="../problemas/daa013.html">[DAA 013] Cobertura mínima</a>.

    <p>Use o algoritmo explicado nas aulas teóricas: <span class="slides">[ver slides 31 a 38]</span>  e vídeo <a href="https://www.youtube.com/watch?v=h55gSIakdOU">#11 Algoritmos Greedy: Exemplos</a> <i>(de 49m50s até 1h00m42s)</i>.

      <hr>

      <h3>Exercício 4) Alguns problemas greedy II </h2>

    <p><a href="https://mooshak.dcc.fc.up.pt/~daa/"><img src="mooshak.gif" border="0"></a><br>
      Implemente e submeta uma solução para o problema <a class="important" href="../problemas/daa014.html">[DAA 014] O problema do sapateiro</a>. 
      
    <p>Qual a escolher greedy a usar?</p>
    <ul>
      <li>Será que basear-se apenas no tempo de execução chega? Consegue arranjar um contra-exemplo onde não basta começar pelo par de sapatos que demora menos tempo?
      <li>Será que basear-se apenas na multa chega? Consegue arranjar um contra-exemplo onde não basta começar pelo par de sapatos que tem maior multa?
      <li>Que escolha consegue imaginar baseada ao mesmo tempo no tempo e na multa?
    </ul>

    <hr>
    
    <h3>Exercício extra) Alguns problemas greedy III </h3>

    <p>Este exercício é um extra, e não é considerado essencial no contexto desta aula. Use-o se quiser consolidar os seus conhecimentos num problema um pouco mais complicado, pois implica ser eficiente (para além de correcto).
    
    <p><a href="https://mooshak.dcc.fc.up.pt/~daa/"><img src="mooshak.gif" border="0"></a><br>
      Implemente e submeta uma solução para o problema <a class="important" href="../problemas/daa015.html">[DAA 015] Rebentando os balões</a>. 


    <p>Para este problemas as dicas estão "escondidas" atrás do botão seguinte (que lhe permite experimentar tentar resolver sem as ler primeiro, se preferir). Além da estratégia greedy, a dificuldade principal aqui é conseguir ser eficiente: como podem existir <i>N=100 mil balões</i>, a solução não pode ser quadrática e tem de ser pelo menos linearítmica, ou seja <i>O(n log n)</i>.

<p><button title="Dicas" type="button" onclick="if(document.getElementById('spoiler1') .style.display=='none') {document.getElementById('spoiler1') .style.display=''}else{document.getElementById('spoiler1') .style.display='none'}">Mostrar/Esconder Dicas</button></p>
    
	<div id="spoiler1" style="display:none">
	  <ul>
	    <li>Existem várias estratégias greedy possíveis. Aqui vamos explorar só uma delas.</li>
	    <li>Em relação ao balão mais à esquerda, é inevitável que tenhamos de disparar uma flecha que comece por o atingir a ele, certo?</li>
	    <li>Uma vez atingido esse balão, o resto do percurso fica "inevitável", e o que sobra é um problema "igual" ao primeiro, mas com menos balões, onde podemos aplicar o mesmo processo</li>
	    <li>Quando estamos a simular o percurso depois de começar pelo balão mais à esquerda ainda não rebentado, precisamos de responder à pergunta: <i>"Qual é o primeiro balão ainda não rebentado, que está na altura H-1 e está localizado à direita de uma posição P?</i>. Esta pergunta vai ter de ser respondida <i>O(n)</i> vezes, pelo que: </li>
	    <ul>
	      <li>Uma solução <i>naive</i> que linearmente procure o balão vai implicar um custo total quadrático, pelo que não é suficiente para ter os 100 pontos.</li>
	      <li>É necessária solução pelo menos logarítmica para esta pergunta (que resulta em O(n log n) para o programa completo). A sugestão que damos é manter um array do tamanho da altura máxima, sendo que cada posição do array guarda o conjunto de balões a essa altura. </li>
	      <li>Cada posição deste array, um conjunto de inteiros (alturas), pode ser por exemplo mantida com um <a href="http://www.cplusplus.com/reference/set/set/">set</a> (em C++) ou um <a href="https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html">TreeSet</a> (em Java). Pode ver exemplos de uso em <a href="https://www.geeksforgeeks.org/set-in-cpp-stl/">C++</a> ou <a href="https://www.geeksforgeeks.org/treeset-in-java-with-examples/">Java</a>.</li>
	      <li>As estruturas de dados atrás mencionadas são implementas com árvores binárias de pesquisa equilibradas (iremos falar disso noutro capítulo) e possibilitam perguntar precisamente qual o menor número maior que uma dada posição (<a href="http://www.cplusplus.com/reference/set/set/lower_bound/">lower_bound</a> ou <a href="https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html#ceiling-E-">ceiling</a>).</li>
	      <li>Se estiver a usar C, esta é uma boa oportunidade para experimentar incorporar um pouco de C++. Pode usar todo o resto do programa em C "puro", incluindo ler com scanf e print, mas adicionar o uso do <span class="codigo">set</span>, "bastando" para já usar a extensão <span class="codigo">.cpp</span> e compilar com <span class="shell">g++</span> ao invés de <span class="shell">gcc</span>.
	    </ul>
	    <li>Caso esteja em Java não se esqueça de ler com o <a href="fastio.html">FastScanner</a>.
	    <li><b>Nota:</b> É também possível uma solução O(n) para o problema. Consegue imaginar? (dica: tente disparar todas as setas ao mesmo tempo...)
	  </ul>	  
	</div>

	<hr>

<h3>Exercício de Desafio</h3>

<p>Todas as semanas vou colocar disponível pelo menos mais um exercício um pouco mais desafiante.</p>

<p>Para esta semana o desafio é resolver um problema de "nível MIUP" (a <a href="https://miup19.tecnico.ulisboa.pt/">Maratona Inter-Universitária de Programação</a>), o concurso de programação mais prestigiado para alunos universitários nacionais. O problema, criado por mim, era um dos mais "complicados" da edição 2019 e está disponível para submissão no <a href="https://mooshak.dcc.fc.up.pt/~daa/">Mooshak</a>:

  <ul>
    <li class="big"><a class="important" href="../problemas/daa016.html">[DAA 016] Invasão espacial</a>
  </ul>

<p>Se já tiverem feito tudo e estiverem "presos" neste, e quiserem mesmo fazer o desafio, podem contactar-me para eu "dosear" as dicas, sabendo que este problema é mais complicado que os outros desta aula.</p>

<hr>

<p class="footer">Pedro Ribeiro (DCC/FCUP) / Última actualização: <b><script language="Javascript">document.write(document.lastModified )</script></p>
</body>

</html>
