<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>[AED 10] Notação Polaca Invertida</title>
	<link rel=StyleSheet href="style.css" type="text/css">
	<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body>
  
<h2><font color="blue">[AED 10] Notação Polaca Invertida</font></h2>

<p><img align=right src="aed10.jpg" width="190" alt="" border="1">
Quando andaste na escola primária, aprendeste que os diferentes operadores aritméticos têm diferentes precedências.
Isso acontece em todos os países, e por exemplo os ingleses usam a mnemónica: <i>"<b>P</b>lease <b>E</b>xcuse <b>M</b>y <b>D</b>ear <b>A</b>unt <b>S</b>ally"</i>, que indica a ordem dos operadores (<b>P</b>arenteses, <b>E</b>xponenciação, <b>M</b>ultiplicação, <b>D</b>ivisão, <b>A</b>dição, <b>S</b>ubtração).

<p>Por exemplo, a expressão:
<pre>1 + 2 x 3 = ?</pre>
dá como resultado <tt>7</tt>, pois o operador multiplicação tem precedência.

<p>Se quiseremos avaliar primeiro a soma a expressão tem de ser:
<pre>(1 + 2) x 3 = ?</pre>
No entanto, nos tempos iniciais das calculadoras electrónicas, revelou-se complicado analisar
este tipo de expressões.

<p>Por isso mesmo, em 1920, o matemático polaco <b>Jan Lukasiewicz</b> criou uma notação que
tornava desnecessário o uso de parenteses, garantindo sempre que as operações eram efectuadas como
desejado. A notação consistia basicamente em escrever os operadores antes dos números e não no meio deles.

<p>Já em 1950, o <i>computer scientist</i> <b>Charles L. Hamblin</b> propôs um esquema onde os operadores
apareciam a seguir aos números, em vez de ser antes. Esta notação acabou por ser muito usada, devido entre
outras coisas à sua fácil implementação num sistema automático usando uma pilha, e ficou conhecida como
<b>Notação Polaca Invertida (RPN)</b> (ou <i>postfix</i>). Em RPN, uma expressão arbitrariamente
complexa pode ser escrita sem o uso de parenteses.<br>&nbsp;

<table border="0">
<tr>
       <th>Notação Normal</th>
       <th>Notação Polaca Invertida (RPN)</th>
</tr>
<tr>
       <td>1 + 1</td>
       <td>1 1 +</td>
</tr>
<tr>
       <td>3 * (4 + 5)</td>
       <td>3 4 5 + *</td>
</tr>
<tr>
       <td>3 + 4 * 5</td>
       <td>3 4 5 * +</td>
</tr>
</table>

<p>A tua tarefa é criar um programa capaz de calcular o valor final de expressões dadas em RPN, sabendo que
um algoritmo para as analisar é:

<ul>
  <li>Criar uma pilha 
  <li>Ir da esquerda para a direita lendo elemento a elemento e:
  <ul>
    <li>Se o elemento for um número, inseri-lo na pilha
    <li>Se for um operador, retirar dois valores da pilha, aplicar esse operador, e inserir o resultado na pilha
  </ul>
  <li>No final, fica apenas um valor na pilha, que é o resultado da expressão
  <li>Se a pilha não corresponder a alguma das coisas que foi dita atrás (por exemplo, ficar vazia), então a expressão é incorrecta.
</ul>

<h3><font color="blue">Input</font></h3>

<p>A primeira linha contém um número <b>N</b> (<i>1&le;N&le;10</i>), indicando o número de expressões a analisar.
<p>As seguintes <b>N</b> linhas contêm expressões RPN, contendo
<ul>
  <li> Dígitos, representando números inteiros
  <li> Caracteres, representando operações (+, -, * , /)
</ul>
<p>Podes assumir que os números são sempre inteiros positivos menores que 2<sup>31</sup>, que os cálculos intermédios vão dar sempre números
inteiros menores que 2<sup>31</sup>, e que só aparecem os quatro tipos básicos de operações atrás citados.
 
<h3><font color="blue">Output</font></h3>

<p>Uma linha para cada expressão, indicando o resultado final caso a expressão seja correcta,
ou <tt><b>Expressao Incorrecta</b></tt>, caso contrário.

<h3><font color="blue">Exemplo de Input/Output</font></h3>

<table cellpadding="4" border="1">
<tr>
       <th><font color="blue">Input</font></th>
       <th><font color="blue">Output</font></th>
</tr>
<tr>
       <td valign=top class=left>
<pre>7
1 1 +
3 4 5 + *
3 4 5 * +
1 +
1 1 1 +
2 3 8 2 / - 1 + *
22 20 +
</pre>
	   </td>
       <td valign="top" class="left">
<pre>2
27
23
Expressao Incorrecta
Expressao Incorrecta
0
42<pre>
	   </td>
</tr>
</table>

<hr>

<p align="center">
Algoritmos e Estruturas de Dados (L.EIC011)<br>
DCC/FCUP - Faculdade de Ciências da Universidade do Porto<br>
DEI/FEUP - Faculdade de Engenharia da Universidade do Porto
</p>

<hr>

</body>
</html>
